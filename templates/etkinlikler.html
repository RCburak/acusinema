{% extends "base.html" %}
{% load static %}

{% block title %}Etkinlikler{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'etkinlikler.css' %}">
{% endblock %}

{% block content %}
    <main class="main-content-wrapper">
        <section class="section section--welcome">
            <h1 class="heading-primary">Kulüp Etkinliklerimiz</h1>
            <p class="text-lead">
                Film gösterimleri, yönetmen söyleşileri ve atölyeler gibi tüm etkinliklerimizi takip edin.
            </p>
        </section>

        <hr class="divider">
        
        <section class="section">
            <h2 class="heading-secondary">Yaklaşan Etkinlikler</h2>
            <div class="events-list">
                {% if upcoming_events %}
                    {% for event in upcoming_events %}
                    <article class="event-card">
                        <div class="event-date">
                            <span class="day">{{ event.event_date|date:"d" }}</span>
                            <span class="month">{{ event.event_date|date:"b"|upper }}</span>
                        </div>
                        <div class="event-content">
                            <h3 class="event-title">{{ event.title }}</h3>
                            <div class="event-meta">
                                <span><i class="icon-time"></i>{{ event.event_date|date:"H:i" }}</span>
                                <span><i class="icon-location"></i>{{ event.get_location_display }}</span>
                            </div>
                            <p class="event-description">{{ event.description|linebreaks }}</p>
                        </div>
                        <div class="event-action">
                            <a href="#" class="btn">Kayıt Ol</a>
                        </div>
                    </article>
                    {% endfor %}
                {% else %}
                    <p>Yaklaşan bir etkinlik bulunmamaktadır.</p>
                {% endif %}
            </div>
        </section>

        <hr class="divider">

        <section class="section">
            <h2 class="heading-secondary">Geçmiş Etkinlikler</h2>
            <div class="events-list past-events">
                {% if past_events %}
                    {% for event in past_events %}
                    <article class="event-card">
                        <div class="event-date">
                            <span class="day">{{ event.event_date|date:"d" }}</span>
                            <span class="month">{{ event.event_date|date:"b"|upper }}</span>
                        </div>
                        <div class="event-content">
                            <h3 class="event-title">{{ event.title }}</h3>
                            <div class="event-meta">
                                <span><i class="icon-time"></i>{{ event.event_date|date:"H:i" }}</span>
                                <span><i class="icon-location"></i>{{ event.get_location_display }}</span>
                            </div>
                            <p class="event-description">{{ event.description|linebreaks }}</p>
                        </div>
                        <div class="event-action">
                            <a href="#" class="btn-secondary">Etkinlik Sona Erdi</a>
                        </div>
                    </article>
                    {% endfor %}
                {% else %}
                    <p>Henüz tamamlanmış bir etkinlik bulunmamaktadır.</p>
                {% endif %}
            </div>
        </section>
    </main>
{% endblock %}