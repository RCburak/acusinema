{% extends "base.html" %}
{% load static %}
{% block title %}Set New Password{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'login-register.css' %}">
{% endblock %}
{% block content %}
<main class="main-content-wrapper">
    <div class="account-container">
        <div class="form-wrapper" style="max-width: 500px;">
            {% if validlink %}
                <h2 style="text-align: center; margin-bottom: 20px; color: var(--color-text-light);">Set a New Password</h2>
                <p style="text-align: center; color: var(--color-text-subtle); margin-bottom: 30px;">
                    Please enter your new password twice.
                </p>
                <form method="POST" class="form-section active" style="display: block;">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="form-submit-btn">Set New Password</button>
                </form>
            {% else %}
                <h2 style="text-align: center; margin-bottom: 20px; color: var(--color-text-light);">Invalid Link</h2>
                <p style="text-align: center; color: var(--color-text-subtle); margin-bottom: 30px;">
                    The password reset link was invalid, possibly because it has already been used or it has expired. Please request a new password reset.
                </p>
                <a href="{% url 'password_reset' %}" class="form-submit-btn" style="text-decoration: none; display: block; max-width: 250px; margin: auto; text-align: center;">Request New Link</a>
            {% endif %}
        </div>
    </div>
</main>
{% endblock %}